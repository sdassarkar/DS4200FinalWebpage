<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"Country Code": "ARM", "avg_price": 2.7906265457543316, "gdp": 25786585950.0, "log_gdp": 23.97312026924781}, {"Country Code": "BDI", "avg_price": 2.1401745031507478, "gdp": 2162378759.0, "log_gdp": 21.494474729996284}, {"Country Code": "BFA", "avg_price": 0.7656694055099107, "gdp": 23250214910.0, "log_gdp": 23.869580212377915}, {"Country Code": "BGD", "avg_price": 0.8126217391304318, "gdp": 450119000000.0, "log_gdp": 26.83277782919595}, {"Country Code": "BOL", "avg_price": 2.475158013544018, "gdp": 49668296744.0, "log_gdp": 24.62863267403418}, {"Country Code": "CAF", "avg_price": 1.5721500607533456, "gdp": 2751544520.0, "log_gdp": 21.735428234598498}, {"Country Code": "CIV", "avg_price": 2.1597816593886465, "gdp": 86538413923.0, "log_gdp": 25.183854243900132}, {"Country Code": "CMR", "avg_price": 1.5805145132288767, "gdp": 51326764685.0, "log_gdp": 24.661478181822446}, {"Country Code": "COD", "avg_price": 1.4077720207253914, "gdp": 70749355652.0, "log_gdp": 24.982409266036058}, {"Country Code": "COG", "avg_price": 1.6810204081632651, "gdp": 15719985776.0, "log_gdp": 23.478198719112456}, {"Country Code": "DJI", "avg_price": 1.2294827586206878, "gdp": 4086402719.0, "log_gdp": 22.13093088918011}, {"Country Code": "DOM", "avg_price": 48.906363636363636, "gdp": 124282000000.0, "log_gdp": 25.54581901403569}, {"Country Code": "DZA", "avg_price": 3.299637784090916, "gdp": 263620000000.0, "log_gdp": 26.29777450923073}, {"Country Code": "ECU", "avg_price": 2.9037250554323752, "gdp": 124676000000.0, "log_gdp": 25.54898420920065}, {"Country Code": "EGY", "avg_price": 0.8443617021276595, "gdp": 389060000000.0, "log_gdp": 26.686999410316083}, {"Country Code": "GIN", "avg_price": 1.7172346570397088, "gdp": 25334307879.0, "log_gdp": 23.95542535673262}, {"Country Code": "GNB", "avg_price": 2.084906890130373, "gdp": 2119865935.0, "log_gdp": 21.474618685423167}, {"Country Code": "HTI", "avg_price": 2.2582352941176476, "gdp": 25224154991.0, "log_gdp": 23.951067903754815}, {"Country Code": "IND", "avg_price": 1.1256366723259756, "gdp": 3912690000000.0, "log_gdp": 28.995246232916028}, {"Country Code": "IRN", "avg_price": 28.482521739130426, "gdp": 436906000000.0, "log_gdp": 26.80298390592921}, {"Country Code": "IRQ", "avg_price": 3.094477716283124, "gdp": 279641000000.0, "log_gdp": 26.35677247461012}, {"Country Code": "JOR", "avg_price": 3.2658765560165786, "gdp": 53352289577.0, "log_gdp": 24.700182729930752}, {"Country Code": "KEN", "avg_price": 6.085462151394445, "gdp": 124499000000.0, "log_gdp": 25.547563520690403}, {"Country Code": "KGZ", "avg_price": 1.9947989870212095, "gdp": 17478259659.0, "log_gdp": 23.584223640375086}, {"Country Code": "KHM", "avg_price": 1.4978096598285937, "gdp": 46352647035.0, "log_gdp": 24.559544237036317}, {"Country Code": "LAO", "avg_price": 2.280198847262244, "gdp": 16502933121.0, "log_gdp": 23.526803966963726}, {"Country Code": "LBR", "avg_price": 5.389812067260123, "gdp": 4750000000.0, "log_gdp": 22.28141045499296}, {"Country Code": "LBY", "avg_price": 1.6028847184986563, "gdp": 46636278902.0, "log_gdp": 24.56564459240098}, {"Country Code": "LKA", "avg_price": 2.311773581738845, "gdp": 98963185510.0, "log_gdp": 25.31801375438726}, {"Country Code": "MDA", "avg_price": 2.052615384615385, "gdp": 18200340854.0, "log_gdp": 23.62470615909555}, {"Country Code": "MLI", "avg_price": 11.731446394586632, "gdp": 26588067731.0, "log_gdp": 24.00372837054991}, {"Country Code": "MMR", "avg_price": 2.3310851959831576, "gdp": 74079772652.0, "log_gdp": 25.02840835832714}, {"Country Code": "MOZ", "avg_price": 4.188235735735726, "gdp": 22416650343.0, "log_gdp": 23.833069838566676}, {"Country Code": "MRT", "avg_price": 38.25437567470286, "gdp": 10766731874.0, "log_gdp": 23.09972683489724}, {"Country Code": "MWI", "avg_price": 4.617772955128965, "gdp": 11008925323.0, "log_gdp": 23.121972173743437}, {"Country Code": "NER", "avg_price": 0.7550900692840672, "gdp": 19537639288.0, "log_gdp": 23.695608661932827}, {"Country Code": "NGA", "avg_price": 1.719944128787868, "gdp": 187760000000.0, "log_gdp": 25.95843038848918}, {"Country Code": "NPL", "avg_price": 1.2645232862375768, "gdp": 42914268287.0, "log_gdp": 24.48247020168579}, {"Country Code": "PAK", "avg_price": 1.2908831168831165, "gdp": 373072000000.0, "log_gdp": 26.64503726745305}, {"Country Code": "PHL", "avg_price": 2.7576439079592765, "gdp": 461618000000.0, "log_gdp": 26.85800354618072}, {"Country Code": "PSE", "avg_price": 19.1508945686901, "gdp": 13711100000.0, "log_gdp": 23.341471560708378}, {"Country Code": "RWA", "avg_price": 0.8921820117083508, "gdp": 14251642231.0, "log_gdp": 23.38013798130166}, {"Country Code": "SDN", "avg_price": 15.803315696649046, "gdp": 49909807030.0, "log_gdp": 24.633483354061006}, {"Country Code": "SEN", "avg_price": 0.8383982446516708, "gdp": 32267254425.0, "log_gdp": 24.197318758045757}, {"Country Code": "SLE", "avg_price": 1.609233844103938, "gdp": 7547843281.0, "log_gdp": 22.74452770125359}, {"Country Code": "TJK", "avg_price": 2.175538096743596, "gdp": 14204575549.0, "log_gdp": 23.376829971411908}, {"Country Code": "TLS", "avg_price": 1.692791519434631, "gdp": 1881265333.0, "log_gdp": 21.35521043686014}, {"Country Code": "TUR", "avg_price": 3.547563265306121, "gdp": 1323250000000.0, "log_gdp": 27.911111947684507}, {"Country Code": "TZA", "avg_price": 67.28547139403689, "gdp": 78779864877.0, "log_gdp": 25.089923279293487}, {"Country Code": "UGA", "avg_price": 0.993006454388985, "gdp": 53651874314.0, "log_gdp": 24.705782241368137}, {"Country Code": "UKR", "avg_price": 1.8672558537978348, "gdp": 190741000000.0, "log_gdp": 25.97418232382224}, {"Country Code": "ZMB", "avg_price": 3.128436398590178, "gdp": 26325775287.0, "log_gdp": 23.99381434513108}, {"Country Code": "ZWE", "avg_price": 0.0012205263157894736, "gdp": 44187704410.0, "log_gdp": 24.511712406561387}]}, {"name": "source_0_y_domain_avg_price", "values": [{"min": 0.0012205263157894736, "max": 67.28547139403689}]}, {"name": "source_0_color_domain_Country Code", "values": [{"Country Code": "ARM"}, {"Country Code": "BDI"}, {"Country Code": "BFA"}, {"Country Code": "BGD"}, {"Country Code": "BOL"}, {"Country Code": "CAF"}, {"Country Code": "CIV"}, {"Country Code": "CMR"}, {"Country Code": "COD"}, {"Country Code": "COG"}, {"Country Code": "DJI"}, {"Country Code": "DOM"}, {"Country Code": "DZA"}, {"Country Code": "ECU"}, {"Country Code": "EGY"}, {"Country Code": "GIN"}, {"Country Code": "GNB"}, {"Country Code": "HTI"}, {"Country Code": "IND"}, {"Country Code": "IRN"}, {"Country Code": "IRQ"}, {"Country Code": "JOR"}, {"Country Code": "KEN"}, {"Country Code": "KGZ"}, {"Country Code": "KHM"}, {"Country Code": "LAO"}, {"Country Code": "LBR"}, {"Country Code": "LBY"}, {"Country Code": "LKA"}, {"Country Code": "MDA"}, {"Country Code": "MLI"}, {"Country Code": "MMR"}, {"Country Code": "MOZ"}, {"Country Code": "MRT"}, {"Country Code": "MWI"}, {"Country Code": "NER"}, {"Country Code": "NGA"}, {"Country Code": "NPL"}, {"Country Code": "PAK"}, {"Country Code": "PHL"}, {"Country Code": "PSE"}, {"Country Code": "RWA"}, {"Country Code": "SDN"}, {"Country Code": "SEN"}, {"Country Code": "SLE"}, {"Country Code": "TJK"}, {"Country Code": "TLS"}, {"Country Code": "TUR"}, {"Country Code": "TZA"}, {"Country Code": "UGA"}, {"Country Code": "UKR"}, {"Country Code": "ZMB"}, {"Country Code": "ZWE"}]}], "marks": [{"type": "symbol", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"opacity": {"value": 0.7}, "size": {"value": 90}, "fill": {"field": "Country Code", "scale": "color"}, "x": {"field": "log_gdp", "scale": "x"}, "y": {"field": "avg_price", "scale": "y"}, "tooltip": {"signal": "{\"Country\": isValid(datum[\"Country Code\"]) ? datum[\"Country Code\"] : \"\"+datum[\"Country Code\"], \"GDP\": format(datum[\"gdp\"], \",\"), \"Avg Price ($)\": format(datum[\"avg_price\"], \".2f\")}"}, "shape": {"value": "circle"}}}, "style": ["circle"]}], "scales": [{"name": "x", "type": "linear", "domain": [20, 30], "range": [0, {"signal": "width"}], "zero": false}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_avg_price\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_avg_price\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_Country Code", "field": "Country Code", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "orient": "bottom", "maxExtent": 0, "tickCount": {"signal": "ceil(width/40)"}, "domain": false, "minExtent": 0, "ticks": false, "grid": true, "labels": false, "aria": false, "gridScale": "y", "zindex": 0}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "ticks": false, "labels": false, "gridScale": "x", "maxExtent": 0, "grid": true, "aria": false, "minExtent": 0, "zindex": 0, "domain": false, "orient": "left"}, {"scale": "x", "tickCount": {"signal": "ceil(width/40)"}, "orient": "bottom", "labelOverlap": true, "labelFlush": true, "zindex": 0, "title": "Log(GDP)", "grid": false}, {"scale": "y", "labelOverlap": true, "orient": "left", "tickCount": {"signal": "ceil(height/40)"}, "zindex": 0, "grid": false, "title": "Average Food Price (\u2264 250 USD)"}], "title": {"text": "GDP vs Food Prices (Color by Country)", "frame": "group"}, "background": "white", "height": 400, "style": "cell", "width": 650, "padding": 5, "legends": [{"title": "Country", "fill": "color", "symbolType": "circle", "encode": {"symbols": {"update": {"opacity": {"value": 0.7}}}}}]};
      var embedOpt = {"mode": "vega"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>